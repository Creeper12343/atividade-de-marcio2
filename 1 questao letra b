#include <stdio.h>
#include <string.h>

#define MAX_ESTADOS 26
#define MAX_NOME 60

typedef struct {
    char nome[MAX_NOME];
    int veiculos;
    int acidentes;
} Estado;

*/
void encontraMinMax(Estado cadastro[], int n, int *idxMin, int *idxMax) {
    if (n <= 0) {
        *idxMin = -1;
        *idxMax = -1;
        return;
    }

    int i;
    *idxMin = 0;
    *idxMax = 0;

    for (i = 1; i < n; i++) {
        if (cadastro[i].acidentes < cadastro[*idxMin].acidentes) {
            *idxMin = i;
        }
        if (cadastro[i].acidentes > cadastro[*idxMax].acidentes) {
            *idxMax = i;
        }
    }
}

int main(void) {
    Estado cadastro[MAX_ESTADOS];
    int n = MAX_ESTADOS;
    int i;
    int idxMin, idxMax;

    printf("Quantos estados vai cadastrar? (max %d): ", MAX_ESTADOS);
    if (scanf("%d", &n) != 1 || n <= 0 || n > MAX_ESTADOS) {
        printf("Entrada inv√°lida. Usando %d estados.\n", MAX_ESTADOS);
        n = MAX_ESTADOS;
    }

   
    getchar();

    for (i = 0; i < n; i++) {
        printf("\n--- Estado %d ---\n", i + 1);
        printf("Nome: ");
        fgets(cadastro[i].nome, MAX_NOME, stdin);
       
        cadastro[i].nome[strcspn(cadastro[i].nome, "\n")] = '\0';

        printf("Numero de veiculos (ex: 12345): ");
        while (scanf("%d", &cadastro[i].veiculos) != 1) {
            printf("Entrada invalida. Digite um numero inteiro para veiculos: ");
            
            while (getchar() != '\n');
        }

        printf("Numero de acidentes (ex: 789): ");
        while (scanf("%d", &cadastro[i].acidentes) != 1) {
            printf("Entrada invalida. Digite um numero inteiro para acidentes: ");
            while (getchar() != '\n');
        }
        
        while (getchar() != '\n');
    }

    encontraMinMax(cadastro, n, &idxMin, &idxMax);

    if (idxMin == -1 || idxMax == -1) {
        printf("\nNao ha dados para analisar.\n");
        return 0;
    }

    printf("\n===== Resultados =====\n");
    printf("Menor numero de acidentes: %d\n", cadastro[idxMin].acidentes);
    printf("Estado: %s (posicao no cadastro: %d)\n", cadastro[idxMin].nome, idxMin + 1);

    printf("\nMaior numero de acidentes: %d\n", cadastro[idxMax].acidentes);
    printf("Estado: %s (posicao no cadastro: %d)\n", cadastro[idxMax].nome, idxMax + 1);

    return 0;
}
